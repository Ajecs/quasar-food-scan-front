(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2ff9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("header",{staticClass:"jumbotron"},[n("h3",[n("strong",[e._v(e._s(e.userData.name))]),e._v(" Profile\n    ")])]),n("div",[e._v(e._s(e.userData))]),e.currentUser?n("p",[n("strong",[e._v("Token:")]),e._v("\n    "+e._s(e.currentUser.token.substring(0,20))+" ... "+e._s(e.currentUser.token.substr(e.currentUser.token.length-20))+"\n  ")]):e._e(),n("p",[n("strong",[e._v("Email:")]),e._v("\n    "+e._s(e.userData.email)+"\n  ")])])},a=[],s=(n("6b54"),n("06db"),n("fc74")),u=n.n(s),o=n("59a1"),i=n.n(o),c=n("bc3a"),d=n.n(c),f=n("18d6");function g(){var e=JSON.parse(f["a"].getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var l="https://gaetan-rouseyrol.dev/api",h=function(){function e(){u()(this,e)}return i()(e,[{key:"getPantries",value:function(){return d.a.get(l+"/pantries")}},{key:"getUserInfo",value:function(){return d.a.get(l+"/users/me.json",{headers:g()}).then((function(e){return e.data&&f["a"].set("user.data",JSON.stringify(e.data)),console.log(f["a"].getItem("user.data")),e.data}))}},{key:"getModeratorBoard",value:function(){return d.a.get(l+"mod",{headers:g()})}},{key:"getAdminBoard",value:function(){return d.a.get(l+"admin",{headers:g()})}}]),e}(),v=new h,p={name:"Profile",data:function(){return{userData:""}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){var e=this;this.currentUser||this.$router.push("/login"),v.getUserInfo().then((function(t){e.userData=t}),(function(t){e.userData=t.response&&t.response.data||t.message||t.toString()}))}},m=p,_=n("2877"),k=Object(_["a"])(m,r,a,!1,null,"5a2ef3bf",null);t["default"]=k.exports}}]);